clc; close all; clear all;

rng(1); % Force the casual generator to be const
format long;

%% Add src to the path
addpath(genpath('src'));
addpath(genpath('analysisAndPlots'));
addpath(genpath('../../src'));
addpath(genpath('../../external'));

%% Preliminaries
% Create a structure 'bucket' where storing different stuff generated by
% running the code
bucket = struct;

%% Configure
% Root folder of the dataset
bucket.datasetRoot = fullfile(pwd, 'dataFloatingIWear');

% Subject and task to be processed
subjectID = 8;
taskID = 3;

%   Options of task
bucket.useSkinOnLeft=false;
bucket.useSkinOnRight=false;
bucket.pathToSkinFunctions='/media/shared/dev/element_ftSk_Shoes/SkinInsoles/Matlab/';
bucket.pathToProcessSkinData='/media/shared/dev/element_ftSk_Shoes/SkinInsoles/Matlab/ProcessData/utils';
addpath(genpath('skinAsForce'));
%% Options
opts.analysis_48dofURDF = false;
opts.analysis_66dofURDF = true;

% Option for computing the estimated Sigma (default = FALSE)
opts.Sigma_dgiveny = false;

% Final plots
opts.finalPlot = false;

%% Run MAPest main.m
main;